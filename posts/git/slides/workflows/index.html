<!doctype html><html lang=fr><head><title></title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.fdf62fe12b4735070d493ae18a9a34c72bbc228b880951397fdce787d64fe6ee.css integrity="sha256-/fYv4StHNQcNSTrhipo0xyu8IouICVE5f9znh9ZP5u4="><link rel=icon type=image/png href=/images/author/ml_hu5a87b4e82f45a97e1de3f830b1debe62_468644_42x0_resize_q75_box.jpg><meta property="og:title" content><meta property="og:description" content="Flux de travail usuels GitFlow, OneFlow, GitLab Flow
Flux de travail ? Un flux de travail (en anglais, workflow) est une façon standardisée d&rsquo;organiser les branches d&rsquo;un projet Git. Leur utilisation permet de bénéficier de méthodes éprouvées pour s&rsquo;adapter à des modes usuels d&rsquo;organisation et d&rsquo;outils spécifiquement conçus pour leur prise en charge. GitFlow GitFlow est un flux de travail qui a été proposé par Vincent Driessen en 2010. Son objectif est de permettre en parallèle la maintenance d&rsquo;une version de production et l&rsquo;élaboration d&rsquo;une version de développement."><meta property="og:type" content="article"><meta property="og:url" content="https://www.maxence-lagalle.fr/posts/git/slides/workflows/"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="Flux de travail usuels GitFlow, OneFlow, GitLab Flow
Flux de travail ? Un flux de travail (en anglais, workflow) est une façon standardisée d&rsquo;organiser les branches d&rsquo;un projet Git. Leur utilisation permet de bénéficier de méthodes éprouvées pour s&rsquo;adapter à des modes usuels d&rsquo;organisation et d&rsquo;outils spécifiquement conçus pour leur prise en charge. GitFlow GitFlow est un flux de travail qui a été proposé par Vincent Driessen en 2010. Son objectif est de permettre en parallèle la maintenance d&rsquo;une version de production et l&rsquo;élaboration d&rsquo;une version de développement."><meta name=description content><script async src="https://www.googletagmanager.com/gtag/js?id=G-8EN8MFFCQ4"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8EN8MFFCQ4",{anonymize_ip:!1})}</script><script>theme=localStorage.getItem("darkmode:color-scheme")||"system",theme=="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?theme="dark":theme="light"),document.documentElement.setAttribute("data-theme",theme)</script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-secondary wrapper"><nav class="navbar navbar-expand-xl top-navbar shadow" id=top-navbar><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<i data-feather=sidebar></i></button>
<a class=navbar-brand href=/><img src=/images/author/ml_hu5a87b4e82f45a97e1de3f830b1debe62_468644_42x0_resize_q75_box.jpg id=logo alt=Logo>
Maxence Lagalle</a>
<button class="navbar-toggler navbar-light" id=navbar-toggler type=button data-toggle=collapse data-target=#top-nav-items aria-label=menu>
<i data-feather=menu></i></button><div class="collapse navbar-collapse dynamic-navbar" id=top-nav-items><ul class="nav navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/#home>Accueil</a></li><li class=nav-item><a class=nav-link href=/#experiences>Expériences</a></li><li class=nav-item><a class=nav-link href=/#education>Formation</a></li><li class=nav-item><a class=nav-link href=/#skills>Compétences</a></li><li class=nav-item><a class=nav-link href=/#projects>Projets</a></li><li class=nav-item><a class=nav-link href=/#accomplishments>Certifications</a></li><div id=top-navbar-divider></div><li class=nav-item><a class=nav-link id=blog-link href=/posts>Articles</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=theme-icon src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=theme-icon src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=theme-icon src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/author/ml_hu5a87b4e82f45a97e1de3f830b1debe62_468644_42x0_resize_q75_box.jpg class=d-none id=main-logo alt=Logo>
<img src=/images/author/ml_hu5a87b4e82f45a97e1de3f830b1debe62_468644_42x0_resize_q75_box.jpg class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Chercher data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts/ data-filter=all>Articles</a></li><div class=subtree><li><i data-feather=minus-circle></i><a class="active list-link" href=/posts/git/> Git</a><ul class=active><li><a class=list-link href=/posts/git/slides/ title=Diaporama>Diaporama</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/ml_hu5a87b4e82f45a97e1de3f830b1debe62_468644_120x120_fit_q75_box.jpg alt="Author Image"><h5 class=author-name>Maxence Lagalle</h5><p class=text-muted>lundi 1 janvier 1</p></div><div class=title><h1></h1></div><div class=tags><ul style=padding-left:0></ul></div><div class=post-content id=post-content><section data-shortcode-section><h1 id=flux-de-travail-usuels>Flux de travail usuels</h1><p>GitFlow, OneFlow, GitLab Flow</p><hr><h2 id=flux-de-travail->Flux de travail ?</h2><ul><li>Un flux de travail (en anglais, <em>workflow</em>) est une façon standardisée d&rsquo;organiser les branches d&rsquo;un projet Git.</li><li>Leur utilisation permet de bénéficier de méthodes éprouvées pour s&rsquo;adapter à des modes usuels d&rsquo;organisation et d&rsquo;outils spécifiquement conçus pour leur prise en charge.</li></ul><hr><h2 id=gitflow>GitFlow</h2><ul><li>GitFlow est un flux de travail qui a été proposé par <a href=https://nvie.com/posts/a-successful-git-branching-model/ target=_blank rel=noopener>Vincent Driessen</a> en 2010.</li><li>Son objectif est de permettre en parallèle la maintenance d&rsquo;une version de production et l&rsquo;élaboration d&rsquo;une version de développement.</li></ul><hr><ul><li>GitFlow s&rsquo;appuie sur 5 familles de branches :<ul><li><code>main</code> : branche principale et permanente, chaque version de main est vouée à être mise en production</li><li><code>develop</code> : branche permanente, soutenant la version de développement</li><li><code>feature</code> : branches éphémères tirées de <code>develop</code>, dédiées au développement d&rsquo;une fonctionnalité</li><li><code>release</code> : branches éphémères tirées de <code>develop</code>, servant aux ultimes correctifs avant mise en production</li><li><code>hotfix</code> : branches éphémères tirées de <code>main</code>, permettant la correction de bugs en production</li></ul></li></ul><hr><h3 id=exemple-avec-gitflow>Exemple avec GitFlow</h3><div class=mermaid><pre>
    %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
    gitGraph
        commit tag: "v1.0.0"
        branch develop order: 3
        branch feature/US1 order: 4
        commit
        commit
        checkout main
        branch hotfix/1.0.1 order: 1
        commit
        checkout main
        merge hotfix/1.0.1 tag: "v1.0.1"
        checkout develop
        merge hotfix/1.0.1
        branch feature/US2 order: 5
        commit
        commit
        checkout feature/US1
        commit
        checkout develop
        merge feature/US1
        branch release/1.1.0 order: 2
        commit
        commit
        checkout main
        merge release/1.1.0 tag: "v1.1.0"
        checkout develop
        merge release/1.1.0
        checkout feature/US2
        commit
  </pre></div><hr><h3 id=utilisation-de-lextension-gitflow>Utilisation de l&rsquo;extension GitFlow</h3><ul><li>Les installations de Git pour Windows depuis la version 2.6.4 incluent directement une extension permettant une prise en charge simplifiée de GitFlow.<ul><li>Pour macOS et Linux, un paquet nommé <code>git-flow</code> est généralement disponible pour installer cette extension.</li></ul></li><li>L&rsquo;extension se manipule ensuite en ligne de commandes au travers de l&rsquo;instruction <code>git flow</code></li></ul><hr><h4 id=initialisation>Initialisation</h4><ul><li>L&rsquo;initialisation de GitFlow s&rsquo;effectue en utilisant la sous-commande <code>init</code> de <code>git flow</code> :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow init
</span></span></code></pre></div></li><li>Git demande alors des informations sur les noms à utiliser pour les différentes branches et les tags de version :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Which branch should be used for bringing forth production releases?
</span></span><span style=display:flex><span>Branch name for production releases: [main]
</span></span><span style=display:flex><span>Branch name for &#34;next release&#34; development: [develop]
</span></span><span style=display:flex><span>How to name your supporting branch prefixes?
</span></span><span style=display:flex><span>Feature branches? [feature/]
</span></span><span style=display:flex><span>Release branches? [release/]
</span></span><span style=display:flex><span>Hotfix branches? [hotfix/]
</span></span><span style=display:flex><span>Version tag prefix? [] v
</span></span></code></pre></div></li></ul><hr><h4 id=développer-une-fonctionnalité>Développer une fonctionnalité</h4><ul><li>Pour démarrer une branche de fonctionnalité, il suffit d&rsquo;utiliser l&rsquo;instruction <code>feature start</code> :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow feature start &lt;nom_de_la_fonction&gt;
</span></span></code></pre></div><ul><li>Git va alors automatiquement créer une branche à partir de <code>develop</code> et l&rsquo;activer.</li></ul></li><li>Il est ensuite possible de publier cette branche sur un dépôt distant :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow feature publish &lt;nom_de_la_fonction&gt;
</span></span></code></pre></div></li></ul><hr><ul><li>Il est également possible de récupérer une branche de fonctionnalité à partir d&rsquo;un dépôt distant :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow feature pull origin &lt;nom_de_la_fonction&gt;
</span></span></code></pre></div></li><li>Enfin, une fois le développement d&rsquo;une fonctionnalité terminée, il est possible de la clôturer :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow feature finish &lt;nom_de_la_fonction&gt;
</span></span></code></pre></div><ul><li>Cette commande fusionne la branche de fonctionnalité dans <code>develop</code>, supprime la branche devenue inutile et réactive <code>develop</code>.</li></ul></li></ul><hr><h4 id=réaliser-une-version-de-production-ou-un-correctif>Réaliser une version de production ou un correctif</h4><ul><li>Les mêmes commandes que pour les fonctionnalités peuvent s&rsquo;utiliser pour les versions de production ou les correctifs, en remplaçant le mot-clé <code>feature</code> par <code>release</code> ou <code>hotfix</code> :<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git flow release start &lt;numero_de_version&gt; &lt;commit_de_depart&gt;
</span></span></code></pre></div><ul><li>Le numéro de version saisi sera ensuite apposé comme un tag lors de la fusion dans <code>main</code>.</li><li>Il est possible de faire partir une <code>release</code> (resp., <code>hotfix</code>) de n&rsquo;importe quel commit de <code>develop</code> (resp., <code>main</code>).</li></ul></li></ul><hr><h2 id=oneflow>OneFlow</h2><ul><li>OneFlow est une évolution de GitFlow proposée par <a href=https://www.endoflineblog.com/oneflow-a-git-branching-model-and-workflow target=_blank rel=noopener>Adam Ruka</a> en 2017.</li><li>Son objectif est de proposer un historique plus clair et lisible sur le long terme en ne se basant que sur une branche perpétuelle.</li><li>Utiliser OneFlow de manière efficace implique de manipuler les tags et les <code>squash</code> ou les <code>rebase</code>.</li></ul><hr><ul><li>OneFlow s&rsquo;appuie sur une branche principale : <code>main</code> qui sert de branche de développement</li><li>On dérive de cette branche trois types de branches éphémères :<ul><li><code>feature</code> pour les fonctionnalités</li><li><code>release</code> pour les mises en production</li><li><code>hotfix</code> pour les correctifs sur la production</li></ul></li><li>Les branches <code>release</code> et <code>hotfix</code> s&rsquo;achèvent par un tag qui permet d&rsquo;identifier leur dernier commit comme étant prêt à être mis en production.</li></ul><hr><h3 id=exemple-avec-oneflow>Exemple avec OneFlow</h3><div class=mermaid><pre>
    %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
    gitGraph
        commit tag: "v1.0.0"
        branch hotfix/1.0.1 order: 1
        branch feature/US1 order: 3
        commit
        commit
        checkout main
        checkout hotfix/1.0.1
        commit
        checkout main
        merge hotfix/1.0.1 tag: "v1.0.1"
        branch feature/US2 order: 4
        commit
        commit
        checkout feature/US1
        commit
        checkout main
        merge feature/US1
        branch release/1.1.0 order: 2
        commit
        commit
        checkout main
        merge release/1.1.0 tag: "v1.1.0"
        checkout feature/US2
        commit
  </pre></div><hr><ul><li>Pour améliorer encore la lisibilité de l&rsquo;historique, il est conseillé de rebase les branches de fonctionnalité sur la dernière version étiquetée de <code>main</code> avant de les fusionner :</li></ul><div class=mermaid><pre>
    %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
    gitGraph
        commit tag: "v1.0.0"
        branch hotfix/1.0.1 order: 1
        checkout main
        checkout hotfix/1.0.1
        commit
        checkout main
        merge hotfix/1.0.1 tag: "v1.0.1"
        branch feature/US1 order: 3
        commit
        commit
        commit
        checkout main
        merge feature/US1
        branch release/1.1.0 order: 2
        commit
        commit
        checkout main
        merge release/1.1.0 tag: "v1.1.0"
        branch feature/US2 order: 4
        commit
        commit
        commit
        checkout main
        merge feature/US2
  </pre></div><hr><h2 id=gitlab-flow>GitLab Flow</h2><ul><li>GitLab Flow est une autre approche alternative à GitFlow qui a été proposé par les équipes de développement de <a href=https://about.gitlab.com/topics/version-control/what-is-gitlab-flow/ target=_blank rel=noopener>GitLab</a> en 2016.</li><li>Son approche combine celle des branches de fonctionnalité avec une prise en charge de multiples environnements de déploiement.<ul><li>Elle est donc plus particulière adaptée aux grandes organisations qui ont un système informatique complexe.</li></ul></li></ul><hr><ul><li>Dans GitLab Flow, <code>main</code> est une branche perpétuelle qui sert au développement.<ul><li>On en découle des branches de fonctionnalités éphémères.</li></ul></li><li>Il existe également autant de branches permanentes que d&rsquo;environnements de déploiement.<ul><li>Les fonctionnalités et les correctifs se déplacent entre les branches par fusion.</li></ul></li></ul><hr><h3 id=exemple-avec-gitlab-flow>Exemple avec GitLab Flow</h3><div class=mermaid><pre>
    %%{init: {'theme': 'dark', 'themeVariables': { 'darkMode': true }}}%%
    gitGraph
        commit
        branch qualification order: 3
        commit
        checkout main
        branch production order: 5
        commit tag: "v1.0.0"
        checkout main
        branch feature/US1 order: 1
        commit
        commit
        checkout production
        branch hotfix/1.0.1 order: 4
        checkout hotfix/1.0.1
        commit
        commit
        commit
        checkout production
        merge hotfix/1.0.1 tag: "v1.0.1"
        checkout qualification
        merge hotfix/1.0.1
        checkout main
        merge qualification
        branch feature/US2 order: 2
        commit
        commit
        checkout feature/US1
        commit
        checkout main
        merge feature/US1
        checkout qualification
        merge main
        checkout production
        merge qualification tag: "v1.1.0"
        checkout feature/US2
        commit
        checkout main
        merge feature/US2
        checkout qualification
        merge main
  </pre></div><hr><ul><li>Le GitLab Flow permet de maintenir plusieurs versions de recette et de production en parallèle, et de maîtriser les fonctionnalités proposées.<ul><li>Mais, il demande de faire preuve de vigilance dans les opérations de fusion pour s&rsquo;assurer qu&rsquo;un correctif fait à un endroit a bien été répercuté partout où il devait l&rsquo;être.</li><li>La lisibilité de l&rsquo;historique peut également être améliorée en utilisant des <code>rebase</code>.</li></ul></li></ul><hr><h2 id=remarques>Remarques</h2><ul><li>Il existe bien d&rsquo;autres flux de travail pour Git et aucun n&rsquo;a vocation à être une solution universelle qui s&rsquo;adapte à tous les environnements.</li><li>Il est même tout à fait possible de concevoir un flux &ldquo;sur mesure&rdquo; pour répondre à un besoin spécifique.</li><li>Le plus important est surtout que toute l&rsquo;équipe qui travaille sur un projet ait connaissance du flux en vigueur et l&rsquo;applique.</li></ul></section></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Partager sur:</strong>
<a class="btn icon-button" href="mailto:?subject=&body=https%3a%2f%2fwww.maxence-lagalle.fr%2fposts%2fgit%2fslides%2fworkflows%2f" target=_blank><i class="fas fa-envelope-open-text"></i></a></div><div class="col-md-6 btn-improve-page"><a href=https://github.com/maxence-lagalle/maxence-lagalle.github.io/edit/main/content/posts/git/slides/workflows.md title="Améliorez cette page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>
Améliorez cette page</a></div></div><hr><div class="row next-prev-navigator"></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table des matières</h5><hr><div class=toc><nav id=TableOfContents></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=https://www.maxence-lagalle.fr#experiences>Expériences</a></li><li class=nav-item><a class=smooth-scroll href=https://www.maxence-lagalle.fr#education>Formation</a></li><li class=nav-item><a class=smooth-scroll href=https://www.maxence-lagalle.fr#skills>Compétences</a></li><li class=nav-item><a class=smooth-scroll href=https://www.maxence-lagalle.fr#projects>Projets</a></li><li class=nav-item><a class=smooth-scroll href=https://www.maxence-lagalle.fr#accomplishments>Certifications</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contactez moi :</h5><ul><li><a href=mailto:contact@maxence-lagalle.fr target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>contact@maxence-lagalle.fr</span></a></li><li><a href=https://github.com/maxence-lagalle target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>maxence-lagalle</span></a></li><li><a href=https://www.linkedin.com/in/maxencelagalle target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>Maxence Lagalle</span></a></li><li><span><i class="fas fa-phone-alt"></i></span> <span>+33648189695</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center"><a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/><img alt="Licence Creative Commons" style=border-width:0 src=https://i.creativecommons.org/l/by-sa/4.0/80x15.png></a><a rel=license href=http://creativecommons.org/licenses/by-sa/4.0/> Licence Creative Commons Attribution - Partage dans les Mêmes Conditions 4.0 International</a>.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Alimenté par
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.a0d33e42516d15cee595000444ce23a5759af1dcdb6cbe73bc2bc5508bef74fb.js integrity="sha256-oNM+QlFtFc7llQAERM4jpXWa8dzbbL5zvCvFUIvvdPs=" defer></script></body></html>